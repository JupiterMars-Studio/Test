gsap.registerPlugin(ScrollTrigger,SplitText),document.fonts.ready.then((()=>{window.innerWidth;const e=window.innerWidth<=767.6,t=gsap.matchMedia();if(sessionStorage.getItem("loaderPlayed"))t.add("(min-width: 769px)",(()=>{gsap.to(".heading-hero",{y:0,duration:.4,autoAlpha:1,ease:"power1.in"}),gsap.to(".hero-description",{y:0,duration:.4,autoAlpha:1,ease:"power1.in"},"<"),gsap.to(".button-hero_wrapper",{y:0,duration:.5,autoAlpha:1,ease:"power1.in"},"<"),gsap.to(".navbar",{duration:.2,autoAlpha:1,ease:"power1.in"}),gsap.to(".hero-grid",{opacity:1,duration:.2,ease:"power1.in"}),gsap.set("body",{overflow:"auto"},"<"),setTimeout(l,600),gsap.set(".loader",{display:"none"}),gsap.from(".flowappz-cookie-consent-popup-14",{autoAlpha:0,delay:8})}));else{sessionStorage.setItem("loaderPlayed","true"),gsap.set(".loader",{opacity:1,display:"flex"});const g=document.querySelector(".svg-wrapper"),h=document.querySelector(".svg-container");function o(){const e=document.querySelector(".navbar").offsetWidth;return Math.floor((e+18)/30.47)}h.classList.add("first");let u=o();window.addEventListener("resize",(()=>{u=o(),console.log("Updated totalCount:",u)}));for(let y=1;y<u;y++){const f=h.cloneNode(!0);f.classList.remove("first"),f.classList.add("show"),y===u-1&&(f.classList.add("last"),f.classList.add("first"),f.classList.remove("show")),y===u-2&&(f.classList.add("second-last"),f.classList.remove("show")),g.appendChild(f)}const m=document.querySelector(".svg-wrapper").offsetWidth,w=(document.querySelector(".svg-container").offsetWidth,m);gsap.set(".bracket-text",{opacity:0}),gsap.set(".section_home-header",{y:100,autoAlpha:0}),gsap.set(".section_scrolling-logo",{y:"100vh"}),gsap.set(".navbar",{opacity:0}),gsap.set(".hero-grid",{opacity:0}),gsap.set(".bracket-end",{opacity:0}),gsap.set(".link-hover-line",{opacity:0}),gsap.set(".heading-hero",{y:0,opacity:1}),gsap.set(".hero-description",{y:0,opacity:1}),gsap.set(".button-hero_wrapper",{y:0,opacity:1}),gsap.set(".masking-left",{width:"120px",display:"block"}),gsap.set(".masking-right",{width:"333px",display:"block"}),gsap.set(".last",{visibility:"hidden"});document.querySelector(".navbar-container").offsetWidth,gsap.timeline().from(".show",{visibility:"hidden",stagger:.03,ease:"none"}).from(".second-last",{visibility:"hidden",ease:"none",duration:.02}).to(".last",{opacity:1,x:-w,ease:"none",duration:e?.2:.34,delay:1},"<").to(".show",{visibility:"hidden",stagger:{each:.03,from:"end"},ease:"none"},"<").to(".section_home-header",{y:0,duration:.2,autoAlpha:1,ease:"none"}).to(".section_scrolling-logo",{y:0,duration:.4,autoAlpha:1,ease:"power2.out"},"<").to(".bracket-end-nav",{display:"flex",duration:.5,ease:"none"},"<").to(".navbar",{opacity:1,duration:.5,ease:"none"}).to(".link-hover-line",{opacity:1,duration:.2,ease:"none"},"<").to(".logo-right-nav",{opacity:0,duration:.2,ease:"none"}).to(".masking-right",{x:-333,width:"0px",duration:1,ease:"none"},"<").to(".masking-left",{x:34,width:"0px",duration:1,ease:"none"},"<").to(".bracket-end-nav",{display:"none",duration:0,ease:"none"}).to(".hero-grid",{opacity:1,duration:1,ease:"none"}).to(".loader",{display:"none"}).to({},{duration:0,onComplete:l}).set("body",{overflow:"auto"}).from(".flowappz-cookie-consent-popup-14",{autoAlpha:0,delay:8})}const r=document.getElementById("hero-grid"),n=[368,394,476,500],a=[262,270,286,318],i=["quaternary-color","plasma-fluor","laser-fluor","secondary-background"],s=window.location.pathname.startsWith("/es")?["Diseño B2B","Diseño de Marketing B2B","Operaciones de Diseño B2B","Branding B2B"]:["B2B Design","B2B Marketing Design","B2B Design Ops","B2B Branding"],c=window.matchMedia("(max-width: 767.5px)");function d(){const e=c.matches,t=e?24:18,o=e?14:30,d=e?a:n;r.replaceChildren();const l=document.createDocumentFragment();for(let e=0;e<t*o;e++){const t=document.createElement("div");t.classList.add("hero-svg-wrapper");const o=document.createElement("div");o.classList.add("hero-svg-icon");const r=d.includes(e),n=r?d.indexOf(e):-1;r&&o.classList.add("special"),o.innerHTML=`\n        <svg viewBox="0 0 10 33" fill="none" xmlns="http://www.w3.org/2000/svg">\n          <path d="M9.35 29.9971C3.89716 28.6535 2.33617 24.9387 2.33617 16.4973C2.33617 8.05596 3.90247 4.34112 9.35 2.99757V0H0V33H9.35V30.0024V29.9971Z" fill="${r?`var(--color--${i[n]})`:"var(--color--hero-grid)"}"/>\n        </svg>\n        ${r?`<span class="expander">${s[n]}</span>`:""}\n        <svg viewBox="0 0 10 33" fill="none" xmlns="http://www.w3.org/2000/svg">\n          <path d="M0.648438 0V2.99805C6.10128 4.34182 7.66227 8.05727 7.66227 16.5C7.66227 24.9427 6.10128 28.6582 0.648438 30.0019V33H9.99844V0H0.648438Z" fill="${r?`var(--color--${i[n]})`:"var(--color--hero-grid)"}"/>\n        </svg>\n      `,t.appendChild(o),l.appendChild(t)}r.appendChild(l)}function l(){document.querySelectorAll(".hero-svg-icon.special").forEach(((e,t)=>{const o=e.querySelector("svg:first-of-type"),r=e.querySelector("svg:last-of-type"),n=e.querySelector(".expander"),a=window.matchMedia("(max-width: 1024px)").matches;gsap.set(n,{width:0,opacity:0}),a?setTimeout((()=>{gsap.to(o,{x:-6,duration:.3,ease:"power2.out"}),gsap.to(r,{x:6,duration:.3,ease:"power2.out"}),gsap.to(e,{background:"var(--color--background)",zIndex:2,width:"auto",duration:.3,ease:"power2.out"}),gsap.to(n,{width:"auto",opacity:1,duration:.3,display:"flex",ease:"power2.out",onUpdate:()=>{n.style.width=n.scrollWidth+"px"}})}),1e3*t):(e.addEventListener("mouseenter",(()=>{gsap.to(o,{x:-6,duration:.3,ease:"power2.out"}),gsap.to(r,{x:6,duration:.3,ease:"power2.out"}),gsap.to(n,{width:"auto",opacity:1,duration:.3,ease:"power2.out",onUpdate:()=>{n.style.width=n.scrollWidth+"px"}})})),e.addEventListener("mouseleave",(()=>{gsap.to(o,{x:0,duration:.5}),gsap.to(r,{x:0,duration:.5}),gsap.to(n,{width:0,opacity:0,duration:.5})})))}))}d(),c.addEventListener("change",d),document.addEventListener("DOMContentLoaded",(()=>{t.add("(min-width: 769px)",(()=>{const e=document.querySelectorAll(".text_how-we"),t=gsap.timeline();document.querySelector(".icon_how-we svg");e.forEach(((o,r)=>{const n=0===r,a=r===e.length-1;if(!n){gsap.set(o,{opacity:.65,x:-50});const e=.5*(r-1);t.to(o,{opacity:1,x:0},e)}a||t.to(o,{opacity:.65,x:-100},.5*r)})),ScrollTrigger.create({trigger:".icon_how-we",start:"center center",endTrigger:".text_how-we:last-of-type",end:"top center-=50",pin:!0,markers:!1,animation:t,scrub:!0})})),t.add("(max-width: 767.5px)",(()=>{const e=document.querySelectorAll(".text_how-we"),t=gsap.timeline();document.querySelector(".icon_how-we svg");e.forEach(((o,r)=>{const n=0===r,a=r===e.length-1;if(!n){gsap.set(o,{opacity:.65,x:-10});const e=.5*(r-1);t.to(o,{opacity:1,x:0},e)}a||t.to(o,{opacity:.65,x:-10},.5*r)})),ScrollTrigger.create({trigger:".icon_how-we",start:"center center",endTrigger:".text_how-we:last-of-type",end:"center center",pin:!1,markers:!1,animation:t,scrub:!0})}))})),document.querySelectorAll(".our-result").forEach((e=>{const t=e.querySelectorAll(".our-result_accordion"),o=e.querySelectorAll(".our-result_item"),r=e.querySelector(".our-result_see-project");t.forEach(((e,t)=>e.dataset.index=t)),o.forEach(((e,t)=>e.dataset.index=t));const n=(e,t)=>{const o=e.querySelector(".our-result_accordion-content");o&&(t?(e.classList.add("expanded"),o.style.transition="none",o.style.maxHeight="0px",o.offsetHeight,o.style.transition="max-height 0.3s ease, padding-top 0.3s ease",o.style.maxHeight=o.scrollHeight+"px"):(e.classList.remove("expanded"),o.style.maxHeight="0px"))};t.forEach((o=>{o.addEventListener("click",(()=>{const r=o.dataset.index,a=e.querySelector(`.our-result_item[data-index="${r}"]`);a&&gsap.to(window,{duration:1,scrollTo:{y:a,offsetY:window.innerHeight/2-a.offsetHeight/2},ease:"power2.out"});const i=o.classList.contains("expanded");t.forEach((e=>n(e,!1))),n(o,!i)}))}));const a=new IntersectionObserver((e=>{e.forEach((e=>{if(e.isIntersecting){(e=>{t.forEach((t=>{const o=t.dataset.index===e;if(t.classList.toggle("active",o),n(t,o),o&&r){const e=t.dataset.url;r.href="case/"+e}}))})(e.target.dataset.index)}}))}),{threshold:.5});o.forEach((e=>a.observe(e)))}));const p=gsap.utils.toArray(".what-we_panel");t.add("(min-width: 991px)",(()=>{const e=gsap.timeline({scrollTrigger:{trigger:".section_what-we",pin:!0,scrub:!0,markers:!1,start:"top top",end:()=>"+="+window.innerWidth*p.length}});p.forEach(((t,o)=>{const r=t.querySelector(".what-we_inner")||t.querySelector(".what-we_services"),n=t.offsetWidth;if(e.to(p,{xPercent:-100*o,duration:0===o?.3:2,ease:"none"}),r&&r.scrollWidth>n){const t=r.scrollWidth-n,o=t/1e3;t>0?e.to(r,{x:-t,ease:"none",duration:o}):e.to({},{duration:.3})}t.querySelectorAll(".what-we_service-item[data-expand]").forEach((t=>{const o=t.querySelector("img"),r=t.querySelectorAll("svg"),n=t.querySelector(".what-we_service-item-icon");o&&gsap.fromTo(o,{scale:0,opacity:0,width:0,marginLeft:0,marginRight:0},{scale:1,opacity:1,width:"auto",transformOrigin:"top right",marginLeft:"-43px",marginRight:"-18px",scrollTrigger:{containerAnimation:e,trigger:t,start:"left 50%",end:"right 50%",scrub:!0,markers:!1}}),r.forEach((o=>{gsap.fromTo(o,{scale:1},{scale:2.5,transformOrigin:"top right",scrollTrigger:{containerAnimation:e,trigger:t,start:"left 50%",end:"right 50%",scrub:!0}})})),n&&gsap.to(n,{gridColumnGap:"0px",scrollTrigger:{containerAnimation:e,trigger:t,start:"left 50%",end:"right 50%",scrub:!0,markers:!1}})}))}))})),t.add("(max-width: 992px)",(()=>{p.forEach((e=>{e.querySelectorAll(".what-we_service-item[data-expand]").forEach((e=>{const t=e.querySelector(".what-we_service-item-icon"),o=e.querySelector("img"),r=e.querySelectorAll("svg");t&&gsap.to(t,{gridColumnGap:"0px",scrollTrigger:{trigger:e,start:"top 80%",end:"+=200",scrub:!1,toggleActions:"play none none reverse",markers:!1}}),o&&gsap.fromTo(o,{display:"none",scale:0,opacity:0,width:0,marginLeft:0,marginRight:0},{scale:1,opacity:1,display:"block",width:"auto",transformOrigin:"top right",marginRight:"-1px",marginLeft:"-13px",duration:2,ease:"none",scrollTrigger:{trigger:e,start:"top 80%",end:"+=200",scrub:!0,markers:!1}}),r.forEach((t=>{gsap.fromTo(t,{scale:1},{scale:2.5,ease:"none",transformOrigin:"top right",scrollTrigger:{trigger:e,start:"top 80%",duration:1,end:"+=200",scrub:!0}})}))}))}))})),t.add("(min-width: 769px)",(()=>{const e=document.querySelector(".connect_content").offsetWidth,t=document.querySelector(".section_connect"),o=(document.querySelector(".section_what-we"),window.innerWidth,window.innerWidth*p.length*3),r=()=>{const e=t.offsetHeight;return Math.min(window.innerHeight,e+o)},n=()=>{t.style.marginTop=-r()+"px"};n(),ScrollTrigger.addEventListener("revert",n),ScrollTrigger.create({trigger:t,start:()=>"top "+(window.innerHeight-r()),end:()=>"+="+e,pin:!0,markers:!1});const a=e-window.innerWidth/2+10;gsap.set(".connect_logo",{xPercent:-50,yPercent:-50,x:a}),gsap.set(".footer-wrapper",{height:"70vh"}),gsap.set(".connect_logo",{opacity:1});const i=gsap.timeline({scrollTrigger:{trigger:".connect_wrapper",start:"top top",end:`+=${e}`,scrub:!0,pin:!0,markers:!1}}).to({},{duration:2}).to(".connect_content",{x:-e,duration:8,ease:"none"}).to(".connect_logo",{x:0,duration:7,ease:"none"},"<"),s=gsap.timeline({scrollTrigger:{trigger:".section_footer",start:"top bottom",end:`+=${window.innerHeight}`,scrub:!0,markers:!1,toggleActions:"play reverse reset reverse"}});gsap.set(".connect_form",{height:"0px",display:"none"}),s.to(".footer",{position:"sticky",bottom:0,duration:1}).to(".footer-wrapper",{height:"90vh",ease:"none",duration:2}).to(".connect_logo",{top:"82.2px",yPercent:0,ease:"none",duration:1.5},"<+1").to(".connect_logo",{scale:.3,ease:"none",duration:.9}).to(".connect_logo",{opacity:0,duration:.1,ease:"none",onComplete:function(){if(c)return;c=!0;const e=document.getElementById("explotionAnimation");e.style.display="block";const t=document.getElementById("explotionBackground");let o=[];for(let e=0;e<80;e++){const e=document.createElement("div");e.innerHTML='\n      <svg class="logo-burst" width="176" height="176" viewBox="0 0 176 176" fill="none" xmlns="http://www.w3.org/2000/svg">\n        <path d="M49.8667 159.984C20.7849 152.819 12.4596 133.006 12.4596 87.9857C12.4596 42.9651 20.8132 23.1526 49.8667 15.987V0H0V176H49.8667V160.013V159.984Z" fill="#C4B5F2"/>\n        <path d="M126.134 0V15.9896C155.216 23.1564 163.541 42.9721 163.541 88C163.541 133.028 155.216 152.844 126.134 160.01V176H176V0H126.134Z" fill="#C4B5F2"/>\n      </svg>';const r=e.firstElementChild;t.appendChild(r),o.push(r)}gsap.set(o,{scale:"1",x:100,y:100,rotation:"random(0, 360)"}),gsap.to(o,{duration:5,physics2D:{velocity:"random(200, 1000)",angle:"random(250, 290)",gravity:500},onComplete:()=>{o.forEach((e=>e.remove())),e.style.display="none",c=!1}})}}).to(".connect_form-wrapper",{opacity:1,marginTop:"20vh",ease:"power2.out",duration:.4},"<").to(".connect_form",{height:"max-content",display:"flex",ease:"power2.out",paddingBottom:"0px",duration:.4,delay:.1},"<").to(".footer-wrapper",{height:"68vh",ease:"power2.out",duration:.5},"<"),SplitText.create(".connect_content-after",{type:"chars",charsClass:"letter"}).chars.forEach((e=>{const t=(Math.floor(7*Math.random())+10)*(Math.random()<.5?-1:1)*10,o=(Math.floor(11*Math.random())+10)*(Math.random()<.5?-1:1);gsap.set(e,{yPercent:t,rotation:o}),gsap.fromTo(e,{yPercent:t,rotation:o},{yPercent:0,rotation:0,ease:"elastic.out(1.2, 1)",scrollTrigger:{trigger:e,containerAnimation:i,start:"left 80%",end:"left 0%",scrub:!0,markers:!1}})}));let c=!1;ScrollTrigger.create({trigger:".section_footer",start:"top bottom",end:"bottom bottom",onLeaveBack:()=>{const e=document.getElementById("explotionAnimation");e&&(e.style.display="none"),c=!1}})}))}));
